<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Docere</title>
  <meta name="theme-color" content="#c2e9fb">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #a1c4fd, #c2e9fb);
      padding: 20px;
      text-align: center;
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      background: #007bff;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    #popup-quote {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #fff;
      color: #333;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

  <button id="studyModeBtn">Enter Study Mode</button>
<div id="studyContainer">
  <h2>Welcome to Study Mode</h2>
  <p>Focus and block distractions.</p>
</div>

<!-- Optional: Popup for quotes -->
<div id="quotePopup" class="hidden">
  <span id="quoteText"></span>
  <button onclick="closeQuote()">Close</button>
</div>

  <div class="card" id="welcome-card">
    <h1 id="welcome-message"></h1>
  </div>

  <div class="card" id="pomodoro-card">
    <h2>Pomodoro Timer</h2>
    <label>Work Duration (min): <input type="number" id="work-duration" value="25" /></label>
    <br/><br/>
    <button onclick="startPomodoro()">Start Pomodoro</button>
    <h3 id="pomodoro-timer">00:00</h3>
  </div>

  <!-- ======== Attendance Tracker Section ======== -->
  <section class="card" id="attendanceTracker">
    <h2>Daily Attendance Tracker</h2>
    <p>Mark your daily attendance for each session below.</p>

    <div>
      <label for="classSession">Class (8–9 AM):</label>
      <select id="classSession">
        <option value="present">Present</option>
        <option value="absent">Absent</option>
      </select>
    </div>

    <div>
      <label for="practicalSession">Practical (2–4 PM):</label>
      <select id="practicalSession">
        <option value="present">Present</option>
        <option value="absent">Absent</option>
      </select>
    </div>

    <button onclick="saveAttendance()">Save Attendance</button>
    <div id="attendanceSummary"></div>
  </section>

  <!-- ======== Ward Attendance Calendar ======== -->
  <div class="ward-scheduler">
    <!-- WARD DUTY ENTRY SECTION -->
<div class="ward-scheduler">
  <h3>Assign Ward Duty</h3>
  <label>Department:
    <input type="text" id="department" placeholder="e.g. Medicine">
  </label>
  <label>Start Date:
    <input type="date" id="wardStart">
  </label>
  <label>End Date:
    <input type="date" id="wardEnd">
  </label>
  <button onclick="addWardDuty()">Add Duty</button>
</div>

<!-- CALENDAR SECTION -->
<div id="wardCalendar">
  <h3>Ward Attendance Calendar</h3>
  <div id="calendarDays"></div>
</div>
  <h3>Ward Duty Scheduler</h3>
  
  <label for="department">Department:</label>

    <select id="department">
    <option value="Medicine">Medicine</option>
    <option value="Surgery">Surgery</option>
    <option value="Pediatrics">Pediatrics</option>
    <option value="Obstetrics">Obstetrics</option>
    <option value="Orthopedics">Orthopedics</option>
    <option value="ENT">ENT</option>
    <option value="Ophthalmology">Ophthalmology</option>
    <option value="Psychiatry">Psychiatry</option>
  
    
      <label for="wardStart">Start Date:</label>
  <input type="date" id="wardStart" />

  <label for="wardEnd">End Date:</label>
  <input type="date" id="wardEnd" />

  <button onclick="addWardDuty()">Assign Ward Duty</button>

  <ul id="wardList"></ul>
  </div>
  <section class="card" id="wardCalendarTracker">
    <h2>Ward Attendance Calendar (9–12 PM)</h2>
    <p>Select status for each ward day. Sundays are auto-skipped.</p>
    <div id="calendarControls">
      <button onclick="prevMonth()">Previous</button>
      <span id="currentMonthYear"></span>
      <button onclick="nextMonth()">Next</button>
    </div>
    <div id="calendarGrid"></div>
    <div id="wardSummary"></div>
  </section>

  <!-- ======== Attendance Percentage Checker ======== -->
  <section class="card">
    <h2>Attendance Summary Checker</h2>
    <label>Theory Attendance (%): <input type="number" id="theory-att" /></label><br/>
    <label>Practical Attendance (%): <input type="number" id="practical-att" /></label><br/>
    <label>Ward Duty (%): <input type="number" id="ward-att" /></label><br/>
    <button onclick="checkAttendance()">Check Status</button>
    <p id="attendance-msg"></p>
  </section>

  <div id="popup-quote"></div>

  <!-- Quote Popup -->
  <div id="quotePopup"></div>

  <!-- Study Mode Toggle -->
  <button id="studyModeToggle" onclick="toggleStudyMode()">Study Mode</button>

  <!-- Footer -->
  <footer style="margin-top: 40px; padding: 20px; background: #e6f7ff; color: #333; text-align: center;">
    <p>&copy; 2025 Docere App | Built for the Healers of Tomorrow</p>
  </footer>

  <!-- JS Scripts -->
  <script src="script.js"></script>
  <script>
    const userName = prompt("Enter your name:");
    const humorousQuotes = [
      `Welcome Dr. ${userName}! Ready to save some neurons today?`,
      "Coffee: because med school isn't stressful enough on its own.",
      "If procrastination were a subject, you'd be a topper!",
      "Let’s diagnose your syllabus with a terminal condition: too long.",
      "Eat. Study. Panic. Repeat.",
      "Docs don't cry. We just leak stress fluid.",
      "At this point, the cadaver understands more than me."
    ];

    function showWelcomeMessage() {
      const random = Math.floor(Math.random() * humorousQuotes.length);
      document.getElementById("welcome-message").innerText = humorousQuotes[random];
    }

    function showPopupQuote() {
      const random = Math.floor(Math.random() * humorousQuotes.length);
      const popup = document.getElementById("popup-quote");
      popup.innerText = humorousQuotes[random];
      popup.style.display = "block";
      setTimeout(() => popup.style.display = "none", 8000);
    }

    window.onload = showWelcomeMessage;

    // Pomodoro Logic
    let pomodoroTimer;
    function startPomodoro() {
      const minutes = parseInt(document.getElementById("work-duration").value);
      let secondsLeft = minutes * 60;
      const display = document.getElementById("pomodoro-timer");

      clearInterval(pomodoroTimer);
      pomodoroTimer = setInterval(() => {
        const min = Math.floor(secondsLeft / 60);
        const sec = secondsLeft % 60;
        display.innerText = `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        if (--secondsLeft < 0) {
          clearInterval(pomodoroTimer);
          alert("Pomodoro Completed!");
          showPopupQuote();
          navigator.vibrate(1000);
        }
      }, 1000);
    }

    function checkAttendance() {
      const theory = parseFloat(document.getElementById("theory-att").value);
      const practical = parseFloat(document.getElementById("practical-att").value);
      const ward = parseFloat(document.getElementById("ward-att").value);

      let msg = '';
      if (theory < 75) msg += "Your theory attendance is low!\n";
      if (practical < 80) msg += "Practical attendance needs improvement!\n";
      if (ward < 80) msg += "Ward duty attendance is below standard!\n";

      if (!msg) msg = "All attendance levels are good!";
      document.getElementById("attendance-msg").innerText = msg;
    }
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js').then(() => {
        console.log("Service Worker Registered");
      });
    }
  </script>
  <!-- Popup Quote -->
<div id="quotePopup" class="popup hidden">
  <div class="popup-content">
    <span class="close-btn" onclick="document.getElementById('quotePopup').classList.add('hidden')">&times;</span>
    <h3>Motivational Quote</h3>
    <p id="quoteText">You are doing great. Keep going!</p>
  </div>
</div>
  <script>
  const quotes = [
    "Studying: because Google doesn't have all the answers (yet).",
    "Focus like a laser, not like a flashlight, Aftab!",
    "Study mode activated... coffee deployed.",
    "You're not procrastinating, you're just 'prioritizing humor.'",
    "Who needs sleep when you have exams?",
    "Study tip: replace 'ugh' with 'Aftab can do it!'",
    "Study like you're gonna operate on your crush one day.",
    "Every time you study, a neuron gets its wings.",
    "Dear brain, please save today's session. Thanks.",
    "Exams are like heartbreaks... painful but educational.",
    "Don't stop until you're proud, or at least until you run out of snacks.",
    "Aftab's law: If you can't convince them, confuse them with medical terms.",
    "Studying anatomy: Because who doesn’t love bones and blood?",
    "Study mode: Activated. Distraction mode: Terminated.",
    "Treat your books like patients—give them full attention.",
    "Study like it's a surgery—no room for mistakes!",
    "One more topic... okay fine, ten more.",
    "Every page turned is one step closer to a stethoscope.",
    "Even your shadow studies in MBBS, Aftab!",
    "When in doubt, draw a diagram!"
  ];

  document.getElementById("studyModeBtn").addEventListener("click", function () {
    document.body.classList.toggle("study-mode");
    showQuote();
  });

  function showQuote() {
    const quotePopup = document.getElementById("quotePopup");
    const quoteText = document.getElementById("quoteText");
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    quoteText.innerText = randomQuote;
    quotePopup.classList.add("visible");
  }

  function closeQuote() {
    document.getElementById("quotePopup").classList.remove("visible");
  }
  </script>
  <script>
let wardDuties = [];

function addWardDuty() {
  const dept = document.getElementById("department").value;
  const start = document.getElementById("wardStart").value;
  const end = document.getElementById("wardEnd").value;

  if (!dept || !start || !end) {
    alert("Please fill all fields.");
    return;
  }

  wardDuties.push({ department: dept, start, end });
  renderCalendar();
}

// Utility to format YYYY-MM-DD from Date
function formatDate(date) {
  return date.toISOString().split('T')[0];
}

function isWardDay(dateStr) {
  return wardDuties.find(duty => dateStr >= duty.start && dateStr <= duty.end);
}

function renderCalendar() {
  const container = document.getElementById("calendarDays");
  container.innerHTML = "";

  const today = new Date();
  for (let i = 0; i < 30; i++) {
    const date = new Date(today);
    date.setDate(date.getDate() + i);
    const dateStr = formatDate(date);

    const duty = isWardDay(dateStr);

    const div = document.createElement("div");
    div.style.padding = "10px";
    div.style.margin = "5px";
    div.style.border = "1px solid #ccc";
    div.style.borderRadius = "8px";
    div.style.display = "inline-block";
    div.style.minWidth = "120px";

    if (duty) {
      div.innerHTML = `<strong>${dateStr}</strong><br><span style="color: #007bff">Ward Duty - ${duty.department}</span>`;
      div.style.backgroundColor = "#e6f2ff";
    } else {
      div.innerHTML = `<strong>${dateStr}</strong><br>Available`;
    }

    container.appendChild(div);
  }
}

renderCalendar(); // initial render
  </script>
</body>
</html>
