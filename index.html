<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Docere - Track Your Study!</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to right, #a1c4fd, #c2e9fb);
      margin: 0;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    .section {
      margin-bottom: 1.5rem;
    }
    label {
      font-weight: bold;
    }
    select, button {
      margin-top: 0.5rem;
      margin-bottom: 1rem;
      padding: 0.5rem;
      font-size: 1rem;
      width: 100%;
    }
    .summary {
      background: #ffffffaa;
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px #00000020;
    }
    .quote {
      font-style: italic;
      color: #444;
      margin-top: 1rem;
    }
    .popup-quote {
      display: none;
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 1rem;
      border: 2px solid #aaa;
      border-radius: 1rem;
      box-shadow: 0 5px 15px #00000030;
      font-size: 1rem;
      z-index: 1000;
    }
    .btn-mode {
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Docere - Track. Learn. Heal.</h1>

  <div class="section">
    <label for="classSession">Class (8–9 AM):</label>
    <select id="classSession">
      <option value="present">Present</option>
      <option value="absent">Absent</option>
      <option value="online">Online</option>
    </select>
  </div>

  <div class="section">
    <label for="wardSession">Ward (9–12 PM):</label>
    <select id="wardSession">
      <option value="present">Present</option>
      <option value="absent">Absent</option>
      <option value="posted">Posted (Clinic/Lab)</option>
    </select>
  </div>

  <div class="section">
    <label for="eveningStudy">Evening Study (5–7 PM):</label>
    <select id="eveningStudy">
      <option value="self_study">Self Study</option>
      <option value="group_study">Group Study</option>
      <option value="netflix">Netflix Break</option>
    </select>
  </div>

  <div class="section">
    <button onclick="saveAttendance()">Save Attendance</button>
    <button class="btn-mode" onclick="toggleStudyMode()" id="studyModeToggle">Study Mode</button>
  </div>

  <div class="summary" id="attendanceSummary">
    <!-- Attendance summary will appear here -->
  </div>

  <div class="popup-quote" id="popupQuote"></div>

  <script>
    let studyMode = false;

    function toggleStudyMode() {
      studyMode = !studyMode;
      document.body.style.background = studyMode
        ? "linear-gradient(to right, #1f4037, #99f2c8)"
        : "linear-gradient(to right, #a1c4fd, #c2e9fb)";
      document.getElementById("studyModeToggle").innerText = studyMode ? "Exit Study Mode" : "Study Mode";
      showPopupQuote();
    }

    function saveAttendance() {
      const classSession = document.getElementById("classSession").value;
      const wardSession = document.getElementById("wardSession").value;
      const eveningStudy = document.getElementById("eveningStudy").value;

      const data = {
        class: classSession,
        ward: wardSession,
        study: eveningStudy
      };

      localStorage.setItem("attendanceData", JSON.stringify(data));

      document.getElementById("attendanceSummary").innerHTML = `
        <strong>Class (8–9 AM):</strong> ${data.class.toUpperCase()}<br>
        <strong>Ward (9–12 PM):</strong> ${data.ward.toUpperCase()}<br>
        <strong>Evening Study (5–7 PM):</strong> ${data.study.replace("_", " ").toUpperCase()}
      `;

      showPopupQuote();
    }

    function showPopupQuote() {
      const quotes = [
        "Keep going, future doc!",
        "One page at a time, one step closer to the white coat.",
        "You're not just studying, you're saving lives—future tense!",
        "You vs. yesterday — you're winning.",
        "Take a deep breath. You’ve got this.",
        "Even Netflix would say, 'Go study!'"
      ];
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      const popup = document.getElementById("popupQuote");
      popup.innerText = quote;
      popup.style.display = "block";
      setTimeout(() => {
        popup.style.display = "none";
      }, 4000);
    }

    function showWelcomeMessage() {
      const welcomeQuotes = [
        "Welcome back, Doctor in the making!",
        "Hi future lifesaver! Ready to slay some books?",
        "Let’s make today count, one topic at a time.",
        "More coffee. Less panic. You got this.",
        "It’s a good day to master medicine!"
      ];
      const quote = welcomeQuotes[Math.floor(Math.random() * welcomeQuotes.length)];
      alert(quote);
    }

    window.onload = function () {
      showWelcomeMessage();
      const saved = JSON.parse(localStorage.getItem("attendanceData"));
      if (saved) {
        document.getElementById("classSession").value = saved.class;
        document.getElementById("wardSession").value = saved.ward;
        document.getElementById("eveningStudy").value = saved.study;
        document.getElementById("attendanceSummary").innerHTML = `
          <strong>Class (8–9 AM):</strong> ${saved.class.toUpperCase()}<br>
          <strong>Ward (9–12 PM):</strong> ${saved.ward.toUpperCase()}<br>
          <strong>Evening Study (5–7 PM):</strong> ${saved.study.replace("_", " ").toUpperCase()}
        `;
      }
    };
  </script>
</body>
</html>
